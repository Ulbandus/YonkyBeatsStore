{% extends 'base.html' %}

{% block title %}
<title>Yonky home</title>
{% endblock %}

{% block body %}
<script src="/static/scripts/playerjs.js" type="text/javascript"></script>

<div class="album py-5">
    <div class="container">
      <div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 g-3">
        {% for beat in beats %}
        <script>
          var player = new Playerjs({id:"player{{ beat[0] }}", file:"/static/audio/beats/{{ beat[2] }}", poster: "/static/images/previews/{{ beat[7] }}"});
        </script>
          <div class="col h-25">
            <div class="card shadow-sm">
              <svg class="bd-placeholder-img card-img-top" width="100%" height="0" xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="xMidYMid slice" focusable="true"><div id="player{{ beat[0] }}"></div></svg>
              <div class="card-body bg-dark">
                <p class="card-text">{{ beat[1] }}</p>
                <div class="d-flex justify-content-between align-items-center">
                  <div class="btn-group">
                    <button type="button" class="btn btn-sm btn-outline-secondary"><a href="/beat/{{ beat[0] }}">View</a></button>
                    <button type="button" class="btn btn-sm btn-outline-secondary"><a href="/beat/{{ beat[0] }}/buy">Buy</a></button>
                  </div>
                  <small class="text-muted">{{ beat[] }}</small>
                </div>
              </div>
            </div>
          </div>
        {% endfor %}
      </div>
    </div>
  </div>
{% endblock %}